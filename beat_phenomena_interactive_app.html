<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beat Phenomena Simulator</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .controls {
            padding: 30px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }
        
        .control-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
        }
        
        .control-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #495057;
            font-size: 0.95em;
        }
        
        .control-group input {
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
        }
        
        .control-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        button {
            padding: 12px 30px;
            font-size: 1em;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-simulate {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-simulate:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-reset {
            background: #6c757d;
            color: white;
        }
        
        .btn-reset:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }
        
        .info-panel {
            padding: 20px 30px;
            background: #e7f3ff;
            border-left: 4px solid #667eea;
            margin: 0 30px 20px 30px;
            border-radius: 8px;
            display: none;
        }
        
        .info-panel.show {
            display: block;
        }
        
        .info-panel h3 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .info-item {
            background: white;
            padding: 12px;
            border-radius: 6px;
            border: 1px solid #b8d4ff;
        }
        
        .info-item strong {
            color: #495057;
            display: block;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        
        .info-item span {
            color: #667eea;
            font-size: 1.2em;
            font-weight: 600;
        }
        
        .plots {
            padding: 30px;
        }
        
        .plot-container {
            margin-bottom: 30px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            color: #6c757d;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåä Beat Phenomena Simulator</h1>
            <p>Interactive visualization of wave interference and beat frequency</p>
        </div>
        
        <div class="controls">
            <div class="control-grid">
                <div class="control-group">
                    <label for="amplitude">Amplitude (A)</label>
                    <input type="number" id="amplitude" value="1" step="0.1" min="0.1" max="10">
                </div>
                <div class="control-group">
                    <label for="freq1">Frequency 1 (f‚ÇÅ) - Hz</label>
                    <input type="number" id="freq1" value="260" step="1" min="1" max="1000">
                </div>
                <div class="control-group">
                    <label for="freq2">Frequency 2 (f‚ÇÇ) - Hz</label>
                    <input type="number" id="freq2" value="252" step="1" min="1" max="1000">
                </div>
            </div>
            
            <div class="button-group">
                <button class="btn-simulate" onclick="simulate()">Generate Simulation</button>
                <button class="btn-reset" onclick="reset()">Reset to Defaults</button>
            </div>
        </div>
        
        <div class="info-panel" id="infoPanel">
            <h3>üìä Simulation Results</h3>
            <div class="info-grid">
                <div class="info-item">
                    <strong>Amplitude</strong>
                    <span id="infoA">-</span>
                </div>
                <div class="info-item">
                    <strong>Frequency 1</strong>
                    <span id="infoF1">-</span>
                </div>
                <div class="info-item">
                    <strong>Frequency 2</strong>
                    <span id="infoF2">-</span>
                </div>
                <div class="info-item">
                    <strong>Beat Frequency</strong>
                    <span id="infoBeat">-</span>
                </div>
                <div class="info-item">
                    <strong>Average Frequency</strong>
                    <span id="infoAvg">-</span>
                </div>
                <div class="info-item">
                    <strong>Beat Period</strong>
                    <span id="infoPeriod">-</span>
                </div>
            </div>
        </div>
        
        <div class="plots">
            <div class="plot-container" id="plot1"></div>
            <div class="plot-container" id="plot2"></div>
            <div class="plot-container" id="plot3"></div>
            <div class="plot-container" id="plot4"></div>
        </div>
        
        <div class="footer">
            <p>Beat Phenomena: When two waves of slightly different frequencies interfere, they create a periodic variation in amplitude.</p>
            <p>Beat Frequency = |f‚ÇÅ - f‚ÇÇ|</p>
        </div>
    </div>
    
    <script>
        // Initialize with default values on page load
        window.onload = function() {
            simulate();
        };
        
        function simulate() {
            // Get input values
            const A = parseFloat(document.getElementById('amplitude').value);
            const f1 = parseFloat(document.getElementById('freq1').value);
            const f2 = parseFloat(document.getElementById('freq2').value);
            
            // Validate inputs
            if (isNaN(A) || isNaN(f1) || isNaN(f2) || A <= 0 || f1 <= 0 || f2 <= 0) {
                alert('Please enter valid positive numbers for all parameters.');
                return;
            }
            
            // Calculate derived parameters
            const f_beat = Math.abs(f1 - f2);
            const f_avg = (f1 + f2) / 2;
            const beat_period = f_beat > 0 ? 1 / f_beat : Infinity;
            
            // Update info panel
            document.getElementById('infoPanel').classList.add('show');
            document.getElementById('infoA').textContent = A.toFixed(2);
            document.getElementById('infoF1').textContent = f1.toFixed(1) + ' Hz';
            document.getElementById('infoF2').textContent = f2.toFixed(1) + ' Hz';
            document.getElementById('infoBeat').textContent = f_beat.toFixed(1) + ' Hz';
            document.getElementById('infoAvg').textContent = f_avg.toFixed(1) + ' Hz';
            document.getElementById('infoPeriod').textContent = beat_period.toFixed(3) + ' s';
            
            // Generate time array
            const duration = 2; // seconds
            const samplingRate = 10000;
            const numPoints = duration * samplingRate;
            const t = [];
            const wave1 = [];
            const wave2 = [];
            const resultant = [];
            const envelopeUpper = [];
            const envelopeLower = [];
            
            for (let i = 0; i < numPoints; i++) {
                const time = (i / samplingRate);
                t.push(time);
                
                const w1 = A * Math.sin(2 * Math.PI * f1 * time);
                const w2 = A * Math.sin(2 * Math.PI * f2 * time);
                const res = w1 + w2;
                const env = 2 * A * Math.abs(Math.cos(2 * Math.PI * f_beat * time / 2));
                
                wave1.push(w1);
                wave2.push(w2);
                resultant.push(res);
                envelopeUpper.push(env);
                envelopeLower.push(-env);
            }
            
            // Filter data for zoomed view (first 0.2 seconds)
            const zoomLimit = 0.2;
            const zoomIndex = Math.floor(zoomLimit * samplingRate);
            const t_zoom = t.slice(0, zoomIndex);
            const wave1_zoom = wave1.slice(0, zoomIndex);
            const wave2_zoom = wave2.slice(0, zoomIndex);
            const resultant_zoom = resultant.slice(0, zoomIndex);
            const envelopeUpper_zoom = envelopeUpper.slice(0, zoomIndex);
            const envelopeLower_zoom = envelopeLower.slice(0, zoomIndex);
            
            // Plot 1: Wave 1
            const trace1 = {
                x: t_zoom,
                y: wave1_zoom,
                type: 'scatter',
                mode: 'lines',
                name: `Wave 1 (f‚ÇÅ = ${f1} Hz)`,
                line: { color: 'rgb(31, 119, 180)', width: 1.5 }
            };
            
            const layout1 = {
                title: `Wave 1 (f‚ÇÅ = ${f1} Hz)`,
                xaxis: { title: 'Time (s)' },
                yaxis: { title: 'Amplitude' },
                hovermode: 'x unified',
                plot_bgcolor: '#f8f9fa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('plot1', [trace1], layout1, { responsive: true });
            
            // Plot 2: Wave 2
            const trace2 = {
                x: t_zoom,
                y: wave2_zoom,
                type: 'scatter',
                mode: 'lines',
                name: `Wave 2 (f‚ÇÇ = ${f2} Hz)`,
                line: { color: 'rgb(214, 39, 40)', width: 1.5 }
            };
            
            const layout2 = {
                title: `Wave 2 (f‚ÇÇ = ${f2} Hz)`,
                xaxis: { title: 'Time (s)' },
                yaxis: { title: 'Amplitude' },
                hovermode: 'x unified',
                plot_bgcolor: '#f8f9fa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('plot2', [trace2], layout2, { responsive: true });
            
            // Plot 3: Resultant with envelope (zoomed)
            const trace3_result = {
                x: t_zoom,
                y: resultant_zoom,
                type: 'scatter',
                mode: 'lines',
                name: 'Resultant Wave',
                line: { color: 'rgb(44, 160, 44)', width: 1.5 }
            };
            
            const trace3_env_upper = {
                x: t_zoom,
                y: envelopeUpper_zoom,
                type: 'scatter',
                mode: 'lines',
                name: 'Envelope',
                line: { color: 'black', width: 2, dash: 'dash' }
            };
            
            const trace3_env_lower = {
                x: t_zoom,
                y: envelopeLower_zoom,
                type: 'scatter',
                mode: 'lines',
                name: 'Envelope (lower)',
                line: { color: 'black', width: 2, dash: 'dash' },
                showlegend: false
            };
            
            const layout3 = {
                title: 'Resultant Wave with Envelope (Zoomed - First 0.2s)',
                xaxis: { title: 'Time (s)' },
                yaxis: { title: 'Amplitude' },
                hovermode: 'x unified',
                plot_bgcolor: '#f8f9fa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('plot3', [trace3_result, trace3_env_upper, trace3_env_lower], layout3, { responsive: true });
            
            // Plot 4: Complete beat pattern
            const trace4_result = {
                x: t,
                y: resultant,
                type: 'scatter',
                mode: 'lines',
                name: 'Resultant Wave',
                line: { color: 'rgb(44, 160, 44)', width: 1 }
            };
            
            const trace4_env_upper = {
                x: t,
                y: envelopeUpper,
                type: 'scatter',
                mode: 'lines',
                name: 'Envelope',
                line: { color: 'black', width: 2, dash: 'dash' }
            };
            
            const trace4_env_lower = {
                x: t,
                y: envelopeLower,
                type: 'scatter',
                mode: 'lines',
                name: 'Envelope (lower)',
                line: { color: 'black', width: 2, dash: 'dash' },
                showlegend: false
            };
            
            const layout4 = {
                title: `Complete Beat Pattern (Beat Frequency = ${f_beat.toFixed(1)} Hz)`,
                xaxis: { title: 'Time (s)' },
                yaxis: { title: 'Amplitude' },
                hovermode: 'x unified',
                plot_bgcolor: '#f8f9fa',
                paper_bgcolor: 'white'
            };
            
            Plotly.newPlot('plot4', [trace4_result, trace4_env_upper, trace4_env_lower], layout4, { responsive: true });
        }
        
        function reset() {
            document.getElementById('amplitude').value = 1;
            document.getElementById('freq1').value = 260;
            document.getElementById('freq2').value = 252;
            simulate();
        }
        
        // Allow Enter key to trigger simulation
        document.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                simulate();
            }
        });
    </script>
</body>
</html>
